(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["628b1b5e"],{"0268":function(t,e,i){
/*! mobile-drag-drop 2.3.0-rc.0 | Copyright (c) 2018 Tim Ruffles | MIT License */
!function(t,i){i(e)}(0,function(t){"use strict";var e="dnd-poly-",i=e+"snapback",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],o=["none","copy","move","link"],r=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function s(t){return t&&t.tagName}function a(t,e,i){void 0===i&&(i=!0),document.addEventListener(t,e,!!r&&{passive:i})}function l(t,e){document.removeEventListener(t,e)}function d(t,e,i,n){void 0===n&&(n=!1);var o=r?{passive:!0,capture:n}:n;return t.addEventListener(e,i,o),{off:function(){t.removeEventListener(e,i,o)}}}function c(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function h(t,e){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return!0;return!1}function u(t,e,i){for(var n=[],o=[],r=0;r<e.touches.length;r++){var s=e.touches[r];n.push(s[t+"X"]),o.push(s[t+"Y"])}i.x=c(n),i.y=c(o)}var f=["","-webkit-"];function g(t,e,i,n,o){void 0===o&&(o=!0);var r=e.x,s=e.y;n&&(r+=n.x,s+=n.y),o&&(r-=parseInt(t.offsetWidth,10)/2,s-=parseInt(t.offsetHeight,10)/2);for(var a="translate3d("+r+"px,"+s+"px, 0)",l=0;l<f.length;l++){var d=f[l]+"transform";t.style[d]=a+" "+i[l]}}var p=function(){function t(t,e){this.t=t,this.i=e,this.s=o[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.s},set:function(t){0!==this.t.mode&&n.indexOf(t)>-1&&(this.s=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(t){2===this.t.mode&&n.indexOf(t)>-1&&(this.t.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.t.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[t]=e,-1===this.t.types.indexOf(t)&&this.t.types.push(t)}},t.prototype.getData=function(t){if(1===this.t.mode||2===this.t.mode)return this.t.data[t]||""},t.prototype.clearData=function(t){if(2===this.t.mode){if(t&&this.t.data[t]){delete this.t.data[t];var e=this.t.types.indexOf(t);return void(e>-1&&this.t.types.splice(e,1))}this.t.data={},this.t.types=[]}},t.prototype.setDragImage=function(t,e,i){2===this.t.mode&&this.i(t,e,i)},t}();function v(t,e){return t?t===n[0]?o[0]:0===t.indexOf(n[1])||t===n[7]?o[1]:0===t.indexOf(n[4])?o[3]:t===n[6]?o[2]:o[1]:3===e.nodeType&&"A"===e.tagName?o[3]:o[1]}function m(t,e,i,n,o,r,s){void 0===r&&(r=!0),void 0===s&&(s=null);var a=function(t,e,i,n,o,r,s){void 0===s&&(s=null);var a=e.changedTouches[0],l=new Event(i,{bubbles:!0,cancelable:n});l.dataTransfer=r,l.relatedTarget=s,l.screenX=a.screenX,l.screenY=a.screenY,l.clientX=a.clientX,l.clientY=a.clientY,l.pageX=a.pageX,l.pageY=a.pageY;var d=t.getBoundingClientRect();return l.offsetX=l.clientX-d.left,l.offsetY=l.clientY-d.top,l}(e,i,t,r,document.defaultView,o,s),l=!e.dispatchEvent(a);return n.mode=0,l}function y(t,e){if(!t||t===n[7])return e;if(e===o[1]){if(0===t.indexOf(o[1]))return o[1]}else if(e===o[3]){if(0===t.indexOf(o[3])||t.indexOf("Link")>-1)return o[3]}else if(e===o[2]&&(0===t.indexOf(o[2])||t.indexOf("Move")>-1))return o[2];return o[0]}var b,x=function(){function t(t,e,i,n){this.h=t,this.o=e,this.u=i,this.l=n,this.v=0,this.p=null,this.g=null,this.m=t,this.I=t.changedTouches[0],this.j=this.S.bind(this),this.k=this.A.bind(this),a("touchmove",this.j,!1),a("touchend",this.k,!1),a("touchcancel",this.k,!1)}return t.prototype.O=function(){var t=this;this.v=1,this.C=o[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var e=this.u;if(this.N=new p(this.D,function(i,n,o){e=i,"number"!=typeof n&&"number"!=typeof o||(t.P={x:n||0,y:o||0})}),this.D.mode=2,this.N.dropEffect=o[0],m("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;u("page",this.m,this.F);var i,n=this.o.dragImageSetup(e);if(this.L=(i=n,f.map(function(t){var e=i.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.zIndex="999999",n.classList.add("dnd-poly-drag-image"),n.classList.add("dnd-poly-icon"),this._=n,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var r=getComputedStyle(e);this.P={x:0-parseInt(r.marginLeft,10),y:0-parseInt(r.marginTop,10)}}else{var s=e.getBoundingClientRect();r=getComputedStyle(e),this.P={x:s.left-this.I.clientX-parseInt(r.marginLeft,10)+s.width/2,y:s.top-this.I.clientY-parseInt(r.marginTop,10)+s.height/2}}return g(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval(function(){t.X||(t.X=!0,t.Y(),t.X=!1)},this.o.iterationInterval),!0},t.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),l("touchmove",this.j),l("touchend",this.k),l("touchcancel",this.k),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},t.prototype.S=function(t){var e=this;if(!1!==h(t,this.I.identifier)){if(this.m=t,0===this.v){var i=void 0;if(this.o.dragStartConditionOverride)try{i=this.o.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.O()&&(this.h.preventDefault(),t.preventDefault())):void this.T()}if(t.preventDefault(),u("client",t,this.M),u("page",t,this.F),this.o.dragImageTranslateOverride)try{var n=!1;if(this.o.dragImageTranslateOverride(t,{x:this.M.x,y:this.M.y},this.p,function(t,i){e._&&(n=!0,e.M.x+=t,e.M.y+=i,e.F.x+=t,e.F.y+=i,g(e._,e.F,e.L,e.P,e.o.dragImageCenterOnTouch))}),n)return}catch(t){}g(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},t.prototype.A=function(t){if(!1!==h(t,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}0!==this.v?(t.preventDefault(),this.v="touchcancel"===t.type?3:2):this.T()}},t.prototype.Y=function(){var t=this,n=this.C;this.D.mode=3,this.N.dropEffect=o[0];var r=m("drag",this.u,this.m,this.D,this.N);if(r&&(this.C=o[0]),r||2===this.v||3===this.v)return this.q(this.v)?void function(t,e,n,o){var r=getComputedStyle(t);if("hidden"!==r.visibility&&"none"!==r.display){e.classList.add(i);var s=getComputedStyle(e),a=parseFloat(s.transitionDuration);if(isNaN(a)||0===a)o();else{var l=t.getBoundingClientRect(),d={x:l.left,y:l.top};d.x+=document.body.scrollLeft||document.documentElement.scrollLeft,d.y+=document.body.scrollTop||document.documentElement.scrollTop,d.x-=parseInt(r.marginLeft,10),d.y-=parseInt(r.marginTop,10);var c=parseFloat(s.transitionDelay),h=Math.round(1e3*(a+c));g(e,d,n,void 0,!1),setTimeout(o,h)}}else o()}(this.u,this._,this.L,function(){t.B()}):void this.B();var a=this.o.elementFromPoint(this.M.x,this.M.y),l=this.g;a!==this.p&&a!==this.g&&(this.p=a,null!==this.g&&(this.D.mode=3,this.N.dropEffect=o[0],m("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),m("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.C=y(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),l!==this.g&&s(l)&&(this.D.mode=3,this.N.dropEffect=o[0],m("dragleave",l,this.m,this.D,this.N,!1,this.g)),s(this.g)&&(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),!1===m("dragover",this.g,this.m,this.D,this.N)?this.C=o[0]:this.C=y(this.N.effectAllowed,this.N.dropEffect)),n!==this.C&&this._.classList.remove(e+n);var d=e+this.C;this._.classList.add(d)},t.prototype.q=function(t){var e=this.C===o[0]||null===this.g||3===t;return e?s(this.g)&&(this.D.mode=3,this.N.dropEffect=o[0],m("dragleave",this.g,this.m,this.D,this.N,!1)):s(this.g)&&(this.D.mode=1,this.N.dropEffect=this.C,!0===m("drop",this.g,this.m,this.D,this.N)?this.C=this.N.dropEffect:this.C=o[0]),e},t.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.C,m("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},t}(),w={iterationInterval:150,tryFindDraggableTarget:function(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){var e=t.cloneNode(!0);return function t(e,i){if(1===e.nodeType){for(var n=getComputedStyle(e),o=0;o<n.length;o++){var r=n[o];i.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r))}if(i.style.pointerEvents="none",i.removeAttribute("id"),i.removeAttribute("class"),i.removeAttribute("draggable"),"CANVAS"===i.nodeName){var s=e,a=i,l=s.getContext("2d").getImageData(0,0,s.width,s.height);a.getContext("2d").putImageData(l,0,0)}}if(e.hasChildNodes())for(o=0;o<e.childNodes.length;o++)t(e.childNodes[o],i.childNodes[o])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};function T(t){if(!b){var e=w.tryFindDraggableTarget(t);if(e)try{b=new x(t,w,e,I)}catch(e){throw I(w,t,3),e}}}function D(t){var e=t.target,i=function(t){o.off(),r.off(),s.off(),clearTimeout(n)},n=window.setTimeout(function(){o.off(),r.off(),s.off(),T(t)},w.holdToDrag),o=d(e,"touchend",i),r=d(e,"touchcancel",i),s=d(window,"scroll",i,!0)}function I(t,e,i){if(0===i&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}b=null}t.polyfill=function(t){if(t&&Object.keys(t).forEach(function(e){w[e]=t[e]}),!w.forceApply){var e=(i={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},n=!!window.chrome||/chrome/i.test(navigator.userAgent),i.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||n&&"ontouchstart"in document.documentElement),i);if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}var i,n;return w.holdToDrag?a("touchstart",D,!1):a("touchstart",T,!1),!0},Object.defineProperty(t,"__esModule",{value:!0})})},c740:function(t,e,i){var n,o,r;!function(i,s){o=[e],n=s,r="function"===typeof n?n.apply(e,o):n,void 0===r||(t.exports=r)}(0,function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=!1;if("undefined"!=typeof window){var n={get passive(){i=!0}};window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),r=[],s=!1,a=-1,l=void 0,d=void 0,c=function(t){return r.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},h=function(t){var e=t||window.event;return!!c(e.target)||1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)},u=function(){setTimeout(function(){void 0!==d&&(document.body.style.paddingRight=d,d=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)})};t.disableBodyScroll=function(t,n){if(o){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!r.some(function(e){return e.targetElement===t})){var u={targetElement:t,options:n||{}};r=[].concat(e(r),[u]),t.ontouchstart=function(t){1===t.targetTouches.length&&(a=t.targetTouches[0].clientY)},t.ontouchmove=function(e){var i,n,o,r;1===e.targetTouches.length&&(n=t,r=(i=e).targetTouches[0].clientY-a,!c(i.target)&&(n&&0===n.scrollTop&&0<r?h(i):(o=n)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&r<0?h(i):i.stopPropagation()))},s||(document.addEventListener("touchmove",h,i?{passive:!1}:void 0),s=!0)}}else{g=n,setTimeout(function(){if(void 0===d){var t=!!g&&!0===g.reserveScrollBarGap,e=window.innerWidth-document.documentElement.clientWidth;t&&0<e&&(d=document.body.style.paddingRight,document.body.style.paddingRight=e+"px")}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")});var f={targetElement:t,options:n||{}};r=[].concat(e(r),[f])}var g},t.clearAllBodyScrollLocks=function(){o?(r.forEach(function(t){t.targetElement.ontouchstart=null,t.targetElement.ontouchmove=null}),s&&(document.removeEventListener("touchmove",h,i?{passive:!1}:void 0),s=!1),r=[],a=-1):(u(),r=[])},t.enableBodyScroll=function(t){if(o){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,r=r.filter(function(e){return e.targetElement!==t}),s&&0===r.length&&(document.removeEventListener("touchmove",h,i?{passive:!1}:void 0),s=!1)}else 1===r.length&&r[0].targetElement===t?(u(),r=[]):r=r.filter(function(e){return e.targetElement!==t})}})},e669:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticStyle:{display:"flex","background-color":"#444"}},[i("div",{staticStyle:{flex:"1",display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{flex:"0 0"}},[i("q-tabs",{staticClass:"text-white",attrs:{align:"left","indicator-color":"transparent",swipeable:""},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[t._l(t.tabs,function(e,n){return[i("q-tab",{key:n,style:{background:e.tabColor},attrs:{count:t.countItems(n),name:"tab-"+n,label:e.name,icon:"message"},on:{select:function(e){return t.selectTab(n)}}})]})],2)],1),i("q-tab-panels",{staticStyle:{flex:"1"},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.tabs,function(e,n){return i("q-tab-panel",{key:"tab-"+n,style:{background:e.tabColor},attrs:{name:"tab-"+n}},[i("q-scroll-area",{staticStyle:{height:"100%"}},[i("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[t._l(e.images,function(e,o){return[!1===e.hidden?i("q-card",{key:t.selectedTabIndex+"-"+o,staticClass:"q-ma-sm bg-white",staticStyle:{width:"150px"},attrs:{draggable:!e.unavailable,disabled:!!e.unavailable},on:{dragstart:function(e){return t.drag(n,o,e)}}},[i("q-img",{staticStyle:{height:"150px",padding:"2px","user-drag":"none"},attrs:{contain:"",src:e.url}},[e.unavailable?[i("div",{staticStyle:{position:"absolute",top:"5%",left:"5%",display:"inline-block",width:"90%",height:"90%",background:"red","border-radius":"100%"}})]:t._e()],2),i("q-card-section",[t._v("\n                    "+t._s(e.name)+"\n                ")])],1):t._e()]})],2)])],1)}),1),i("div",{staticStyle:{flex:"0 220px"}},[i("div",{class:{"bg-secondary":t.isDraggingOver,"bg-dark":!t.isDraggingOver},staticStyle:{height:"100%"},on:{drop:function(e){return t.drop(e)},dragover:function(e){return t.dragOver(e)},dragenter:function(t){return t.preventDefault()},dragleave:function(e){return t.dragLeave(e)}}},[i("div",{staticStyle:{position:"absolute",right:"0",display:"inline-block",width:"100px",padding:"0px"}},[i("q-btn",{staticClass:"row q-ma-sm bg-white float-right",attrs:{round:"",icon:"play_arrow",size:"24px"},on:{click:function(e){return t.play()}}}),i("q-btn",{staticClass:"row q-ma-sm bg-white float-right",attrs:{round:"",icon:"delete",size:"24px"},on:{click:function(e){return t.clear()}}})],1),i("div",{staticClass:"q-pa-md row"},[t._l(t.phrase,function(e,n){return[i("q-card",{key:n,staticClass:"q-ma-sm bg-white",staticStyle:{width:"150px"},style:e.style,attrs:{draggable:""},on:{dragstart:function(e){return t.drag(n,e)}}},[i("q-img",{staticStyle:{height:"150px",padding:"2px","user-drag":"none"},attrs:{contain:"",src:e.url}}),i("q-card-section",[t._v("\n                    "+t._s(e.name)+"\n                ")])],1)]})],2)])])],1)])},o=[],r=(i("7f7f"),i("0268")),s=i("c740");Object(r["polyfill"])({});var a=document.querySelector("body");Object(s["disableBodyScroll"])(a),window.addEventListener("touchmove",function(){});var l={name:"Tabs",data:function(){return{isDraggingOver:!1,draggingTabIndex:0,draggingImageIndex:0,selectedTabIndex:0}},computed:{tabs:function(){return this.$store.state.mavoix.tabs},phrase:function(){return this.$store.state.mavoix.phrase},selectedTab:{get:function(){return this.$store.state.mavoix.selectedTab},set:function(t){this.$store.commit("mavoix/updateSelectedTab",t)}}},mounted:function(){var t=this;this.$axios.get("https://mavoix-connect.herokuapp.com/users?name=Luz").then(function(e){var i=e.data[0];t.name=i.name,t.language=i.language})},methods:{countItems:function(t){return this.tabs[t].images.length},drag:function(t,e,i){this.draggingTabIndex=t,this.draggingImageIndex=e},dragOver:function(t){t.preventDefault(),this.isDraggingOver=!0},dragLeave:function(t){t.preventDefault(),this.isDraggingOver=!1},drop:function(t){t.preventDefault();var e=this.draggingTabIndex,i=this.draggingImageIndex,n=this.tabs[e].images[i];n.origin={tabIndex:e,imageIndex:i},n.style="transform: scale(1)",this.phrase.push(n),this.tabs[e].images.splice(i,1),this.isDraggingOver=!1},play:function(){console.log("play started");var t=this.$store.state.mavoix.selectedVoice;console.log("selectedVoice",t);var e=this.phrase;console.log("phrase",e);var i=this.$store.state.mavoix.voices.filter(function(e){return e.name===t})[0];console.log("amelie",i);var n=function t(n){console.log("f");var o=e[n];o.style="transform: scale(1.1)",e.splice(n,1,o);var r=new SpeechSynthesisUtterance(e[n].name);r.voice=i;var s=window.speechSynthesis.speak(r);console.log(s),n++,setTimeout(function(){var i=e[n-1];i.style="transform: scale(1)",e.splice(n-1,1,i),n<e.length&&t(n)},500)};n(0)},clear:function(){for(var t=this.phrase.length-1;t>=0;t--){var e=this.phrase[t].origin,i=e.tabIndex,n=e.imageIndex;delete this.phrase[t].origin,this.tabs[i].images.splice(n,0,this.phrase[t])}this.phrase.length=0},selectTab:function(t){this.selectedTabIndex=t}}},d=l,c=i("2877"),h=Object(c["a"])(d,n,o,!1,null,null,null);e["default"]=h.exports}}]);